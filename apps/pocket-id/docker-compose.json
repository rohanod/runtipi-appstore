{
  "schemaVersion": 2,
  "services": [
    {
      "name": "pocket-id",
      "image": "ghcr.io/pocket-id/pocket-id:v2.0.2",
      "isMain": true,
      "internalPort": 1411,
      "environment": [
        {
          "key": "APP_URL",
          "value": "${APP_URL}"
        },
        {
          "key": "ENCRYPTION_KEY",
          "value": "${ENCRYPTION_KEY}"
        },
        {
          "key": "TRUST_PROXY",
          "value": "${TRUST_PROXY}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/pocket-id",
          "containerPath": "/app/data"
        }
      ],
      "healthCheck": {
        "test": "curl -f http://localhost:1411/healthz",
        "interval": "90s",
        "timeout": "5s",
        "retries": 2
      }
    }
  ],
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json"
}
